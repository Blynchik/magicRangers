<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="bg-light">

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-6">

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ -->
            <div class="card shadow-sm border-0">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0">–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h3>
                </div>

                <div class="card-body">
                    <form th:action="@{/character}" th:object="${character}" method="post" novalidate>

                        <!-- –ò–º—è -->
                        <div class="mb-3">
                            <label for="name" class="form-label">–ò–º—è:</label>
                            <input type="text" id="name" th:field="*{name}" class="form-control"
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞">
                            <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="text-danger small"></div>
                        </div>

                        <!-- –£–¥–∞–ª—å -->
                        <div class="mb-3">
                            <label for="str" class="form-label">üí™ –£–¥–∞–ª—å (70‚Äì180):</label>
                            <input type="number" id="str" th:field="*{str}" class="form-control"
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 70 –¥–æ 180">
                            <div th:if="${#fields.hasErrors('str')}" th:errors="*{str}" class="text-danger small"></div>
                        </div>

                        <!-- –°–º–µ–∫–∞–ª–∫–∞ -->
                        <div class="mb-3">
                            <label for="intl" class="form-label">üß† –°–º–µ–∫–∞–ª–∫–∞ (70‚Äì180):</label>
                            <input type="number" id="intl" th:field="*{intl}" class="form-control"
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 70 –¥–æ 180">
                            <div th:if="${#fields.hasErrors('intl')}" th:errors="*{intl}" class="text-danger small"></div>
                        </div>

                        <!-- –û–±–∞—è–Ω–∏–µ -->
                        <div class="mb-3">
                            <label for="cha" class="form-label">‚ú® –û–±–∞—è–Ω–∏–µ (70‚Äì180):</label>
                            <input type="number" id="cha" th:field="*{cha}" class="form-control"
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 70 –¥–æ 180">
                            <div th:if="${#fields.hasErrors('cha')}" th:errors="*{cha}" class="text-danger small"></div>
                        </div>

                        <!-- –û—à–∏–±–∫–∏ —Ñ–æ—Ä–º—ã -->
                        <div th:if="${#fields.hasGlobalErrors()}" class="alert alert-danger">
                            <ul class="mb-0">
                                <li th:each="err : ${#fields.globalErrors()}" th:text="${err}"></li>
                            </ul>
                        </div>

                        <!-- –ö–Ω–æ–ø–∫–∏ -->
                        <div class="d-flex justify-content-between mt-4">
                            <a href="javascript:history.back()" class="btn btn-outline-secondary">‚¨Ö –ù–∞–∑–∞–¥</a>
                            <button type="submit" class="btn btn-success">–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</button>
                        </div>

                    </form>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- Toast –æ—à–∏–±–∫–∏ -->
<div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="errorToast" class="toast align-items-center text-white bg-danger border-0"
         role="alert" aria-live="assertive" aria-atomic="true"
         data-bs-delay="10000"
         th:if="${handledError}">
        <div class="d-flex">
            <div class="toast-body" th:text="${handledError}"></div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto"
                    data-bs-dismiss="toast" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
        </div>
    </div>
</div>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        const toastEl = document.getElementById('errorToast');
        if (toastEl) {
            const toast = new bootstrap.Toast(toastEl);
            toast.show();
        }
    });
</script>

</body>
</html>